{% extends "./base.html" %}

{% block title %}Agregar Pedido{% endblock %}

{% block body %}
<div class="row">
  <div class="col-md-6 offset-md-3">
    <h2>Agregar Pedido</h2>
    <div class="card">
      <div class="card-body">
        <form method="POST">
          {% csrf_token %}
          <div class="form-group mb-3">
            <label>Código del pedido</label>
            <input type="text" name="codigo" class="form-control" required>
          </div>
          
          <div class="form-group mb-3">
            <label>Cliente</label>
            <select name="cliente" class="form-control" required>
              {% for cliente in clientes %}
                <option value="{{ cliente.codigo }}">{{ cliente.nombre }} {{ cliente.apellidopaterno }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-group mb-3">
            <label>Fecha del pedido</label>
            <input type="date" name="fecha_pedido" class="form-control" placeholder="Código único del pedido" required>
          </div>

          <div class="form-group">
            <label>Estado</label>
            <select name="estado" class="form-control" required>
                {% for estado_val, estado_disp in estados %}
                    <option value="{{ estado_val }}">{{ estado_disp }}</option>
                {% endfor %}
            </select>
        </div>
        
          <div class="form-group">
            <button type="submit" class="btn btn-success btn-block text-white">Agregar</button>
            <a href="{% url 'gestion_pedidos' %}" class="btn btn-secondary btn-block mt-2">Cancelar</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
